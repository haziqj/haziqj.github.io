<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=author content="Haziq Jamil"><meta name=description content="Key ideas Objects R works on objects. All objects have the following properties (referred to as intrinsic attributes):
 mode: tells us what kind of thing the object is – possible modes include numeric, complex, logical, character and list."><link rel=alternate hreflang=en-gb href=https://haziqj.ml/teaching/datascience/2-intro-to-r/><meta name=theme-color content="#1565c0"><script src=/js/mathjax-config.js></script>
<link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css integrity="sha512-W0xM4mr6dEP9nREo7Z9z+9X70wytKvMGeDsj7ps2+xg5QPrEBXC8tAW1IFnzjR6eoJ90JmCnFzerQJTLzIEHjA==" crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css integrity crossorigin=anonymous media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script>
<link rel=stylesheet href=/css/wowchemy.95d53890c5839471cef2375b6c449b9f.css><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu4b886e67ce091368601699b05489f639_45390_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu4b886e67ce091368601699b05489f639_45390_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://haziqj.ml/teaching/datascience/2-intro-to-r/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@hajiq"><meta property="twitter:creator" content="@hajiq"><meta property="og:site_name" content="Haziq Jamil"><meta property="og:url" content="https://haziqj.ml/teaching/datascience/2-intro-to-r/"><meta property="og:title" content="Getting Started with R | Haziq Jamil"><meta property="og:description" content="Key ideas Objects R works on objects. All objects have the following properties (referred to as intrinsic attributes):
 mode: tells us what kind of thing the object is – possible modes include numeric, complex, logical, character and list."><meta property="og:image" content="https://haziqj.ml/media/icon_hu4b886e67ce091368601699b05489f639_45390_512x512_fill_lanczos_center_3.png"><meta property="twitter:image" content="https://haziqj.ml/media/icon_hu4b886e67ce091368601699b05489f639_45390_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-gb"><meta property="article:published_time" content="2019-07-09T00:00:00+08:00"><meta property="article:modified_time" content="2022-07-28T09:34:14+08:00"><title>Getting Started with R | Haziq Jamil</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=2b57d90671a2868387173fa0904650e0><script src=/js/wowchemy-init.min.e22a2a20712150175b9cd707be2d0584.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Haziq Jamil</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Haziq Jamil</a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#01-about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#05-publications><span>Research</span></a></li><li class=nav-item><a class=nav-link href=/#07-projects><span>Projects</span></a></li><li class=nav-item><a class="nav-link active" href=/teaching><span>Teaching</span></a></li><li class=nav-item><a class=nav-link href=/#10-contact><span>Contact</span></a></li><li class=nav-item><a class=nav-link href=/cv><span>CV</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label="Display preferences"><i class="fas fa-moon" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span></a>
<a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span></a>
<a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav></header></div><div class=page-body><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Introductory Data Science using R</span>
<span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>Search...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li><a href=/teaching/><i class="fas fa-arrow-left pr-1"></i>Teaching</a></li></ul><div class=docs-toc-item><a class=docs-toc-link href=/teaching/datascience/>Introductory Data Science using R</a><ul class="nav docs-sidenav"><li><a href=/teaching/datascience/1-intro/>Data Science Framework</a></li><li class=active><a href=/teaching/datascience/2-intro-to-r/>Getting Started with R</a></li><li><a href=/teaching/datascience/3-r4ds/>R data science functions</a></li><li><a href=/teaching/datascience/4-assignment/>Assignment</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents><ul><li><a href=#objects>Objects</a></li><li><a href=#functions-arguments-and-return-values>Functions, arguments and return values</a></li><li><a href=#workspace-and-working-directories>Workspace and working directories</a></li></ul><ul><li><a href=#starting-up>Starting up</a></li><li><a href=#using-r-as-a-calculator>Using R as a calculator</a></li><li><a href=#vectors-and-assignment>Vectors and assignment</a><ul><li><a href=#example-sheep-weight>Example: sheep weight</a></li></ul></li><li><a href=#matrices>Matrices</a></li><li><a href=#data-frames>Data frames</a><ul><li><a href=#example-sheep-again>Example: sheep again</a></li></ul></li><li><a href=#lists>Lists</a></li><li><a href=#subsetting>Subsetting</a></li></ul><ul><li><a href=#the-r-help-system>The R help system</a></li><li><a href=#session-management-and-visibility>Session management and visibility</a></li><li><a href=#writing-your-own-functions>Writing your own functions</a></li><li><a href=#installing-packages>Installing packages</a></li><li><a href=#loading-packages-to-be-used>Loading packages to be used</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><article class=article><div class=docs-article-container><h1>Getting Started with R</h1><div class=article-style><h1 id=key-ideas>Key ideas</h1><h2 id=objects>Objects</h2><p>R works on objects.
All objects have the following properties (referred to as intrinsic attributes):</p><ul><li><code>mode</code>: tells us what kind of thing the object is – possible modes include numeric, complex, logical, character and list.</li><li><code>length</code>: is the number of components that make up the object.</li></ul><p>At the simplest level, an object is a convenient way to store information.
In statistics, we need to store observations of a variable of interest.
This is done using a numeric vector.
Note that there are no scalars in R; a number is just a numeric vector of length 1.
Vectors are referred to as atomic structures; all of their components have the same mode.</p><p>If an object stores information, we need to name it so that we can refer to it later (and thus recover the information that it contains).
The term used for the name of an object is identifier.
An identifier is something that we choose. Identifiers can be chosen fairly freely in R.
The points below are a few simple rules to bear in mind.</p><ul><li>In general any combination of letters, digits and the dot character can be used although it is obviously sensible to choose names that are reasonably descriptive.</li><li>You cannot start an identifier with a digit or a dot so <code>moonbase3.sample</code> is acceptable but <code>3moons.samplebase</code> and <code>.sample3basemoon</code> are not.</li><li>Identifiers are CASE SENSITIVE so <code>moon.sample</code> is different from <code>moon.Sample</code>. It is easy to get caught out by this.</li><li>Some characters are already assigned values. These include <code>c</code>, <code>q</code>, <code>t</code>, <code>C</code>, <code>D</code>, <code>F</code>, <code>I</code> and <code>T</code>. Avoid using these as identifiers.</li></ul><p>Typically we are interested in data sets that consist of several variables.
In R, data sets are represented by an object known as a <em>data frame</em>.
As with all objects, a data frame has the intrinsic attributes mode and length; data frames are of mode <code>list</code> and the length of a data frame is the number of variables that is contains.
In common with many larger objects, a data frame has other attributes in addition to mode and length.
The non-intrinsic attributes of a data frame are:</p><ul><li><code>names</code>: these are the names of the variables that make up the data set;</li><li><code>row.names</code>: these are the names of the individuals on whom the observations are made;</li><li><code>class</code>: this attribute can be thought of as a detailed specification of the kind of thing the object is; in this case the class is <code>data.frame</code>.</li></ul><p>The class attribute tells certain functions (generic functions) how to deal with the object.
For example, objects of class &ldquo;data.frame&rdquo; are displayed on screen in a particular way.</p><h2 id=functions-arguments-and-return-values>Functions, arguments and return values</h2><p>R works by calling functions.
The notion of a function is a familiar one; a function takes a collection of inputs and maps them to a single output. In R, inputs and output are objects.
The inputs are referred to as <em>arguments</em> and the output is referred to as the <em>return value</em>.
Many useful functions are part of the standard R setup. Others are available via the inclusion of packages.
One of the key advantages of R is the ease with which users can define their own functions.
Functions are also objects; the mode of a function is <code>function</code> (sensibly enough).
In computing, functions have <em>side-effects</em>.
For example, calling a function may cause a graph to be drawn.
In many instances, it is the side-effect that is important rather than the return value.</p><h2 id=workspace-and-working-directories>Workspace and working directories</h2><p>During an R session, a number of objects will be generated; for example we may generate vectors, data frames and functions.
For the duration of the session, these objects are stored in an area of memory referred to as the workspace.
If we want to save the objects for future use, we instruct R to write them to a file in our current working directory (directory is just another name for a folder).
Note the distinction: things in memory are temporary (they will be lost when we log out); files are more permanent (they are stored on disk and the information they contain can be loaded into memory during our next session).
Managing objects and files is an important part of using R effectively.</p><h1 id=a-new-r-session>A new R session</h1><h2 id=starting-up>Starting up</h2><p>If you haven&rsquo;t already, download R and RStudio based on your operating system.
R can actually be run in the terminal (type <code>r</code> in your terminal) or the original R program itself.<br>We will be working in RStudio, which is a user-friendly integrated development environment (IDE).</p><p>It is recommended to create a project, which automatically configures the working directory.
To do this, go to $\text{File} \rightarrow \text{New project&mldr;}$.
If your files are already in a folder, select $\text{Existing Directory}$; otherwise select $\text{New Directory}$.
Don&rsquo;t select $\text{Version Control}$ for now.</p><h2 id=using-r-as-a-calculator>Using R as a calculator</h2><p>The simplest thing that R can do is evaluate arithmetic expressions.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=m>1</span> <span class=o>+</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=o>+</span> <span class=m>4.23</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 5.23</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=o>+</span> <span class=m>1</span><span class=o>/</span><span class=m>2</span> <span class=o>*</span> <span class=m>9</span> <span class=o>-</span> <span class=m>3.14</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 2.36</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Note the order in which operations are performed in the final calculation</span>
</span></span></code></pre></div><blockquote><p><strong>Comments in R</strong>. R ignores anything after a # sign in a command.
We will follow this convention. Anything after a # in a set of R commands is a comment.</p></blockquote><h2 id=vectors-and-assignment>Vectors and assignment</h2><p>We can create vectors at the command prompt using the concatenation function <code>c(...). c(object1,object2,...)</code>.</p><p>This function takes arguments of the same mode and returns a vector containing these values.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>c</span><span class=p>(</span><span class=m>1</span><span class=p>,</span><span class=m>2</span><span class=p>,</span><span class=m>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 1 2 3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>c</span><span class=p>(</span><span class=s>&#34;Alpha&#34;</span><span class=p>,</span> <span class=s>&#34;Bravo&#34;</span><span class=p>,</span> <span class=s>&#34;Charlie&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] &#34;Alpha&#34;   &#34;Bravo&#34;   &#34;Charlie&#34;</span>
</span></span></code></pre></div><p>In order to make use of vectors, we need identifiers for them (we do not want to have to write vectors from scratch every time we use them).
This is done using the assignment operator <code>&lt;-</code> via <code>name &lt;- expression</code>.
<code>name</code> now refers to an object whose value is the result of evaluating expression.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>numbers</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=m>1</span><span class=p>,</span><span class=m>2</span><span class=p>,</span><span class=m>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>people</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;Alpha&#34;</span><span class=p>,</span> <span class=s>&#34;Bravo&#34;</span><span class=p>,</span> <span class=s>&#34;Charlie&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>numbers</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 1 2 3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>people</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] &#34;Alpha&#34;   &#34;Bravo&#34;   &#34;Charlie&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Typing an object’s identifier causes R to print the contents of the object</span>
</span></span></code></pre></div><p>Simple arithmetic operations can be performed with vectors.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=m>1</span><span class=o>:</span><span class=m>3</span> <span class=o>+</span> <span class=nf>c</span><span class=p>(</span><span class=m>4</span><span class=p>,</span> <span class=m>5</span><span class=p>,</span> <span class=m>6</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 5 7 9</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>numbers</span> <span class=o>+</span> <span class=n>numbers</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 2 4 6</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>numbers</span> <span class=o>-</span> <span class=nf>c</span><span class=p>(</span><span class=m>8</span><span class=p>,</span> <span class=m>7.5</span><span class=p>,</span> <span class=m>-2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] -7.0 -5.5  5.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>rep</span><span class=p>(</span><span class=m>12</span><span class=p>,</span> <span class=m>3</span><span class=p>)</span> <span class=o>/</span> <span class=n>numbers</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 12  6  4</span>
</span></span></code></pre></div><p>Note in the above example that multiplication and division are done element by element.</p><blockquote><p><strong>Reusing commands</strong>. If you want to bring back a command which you have used earlier in the session, press the up arrow key ↑. This allows you to go back through the commands until you find the one you want. The commands reappear at the command line and can be edited and then run by pressing return.</p></blockquote><p>The outcome of an arithmetic calculation can be given an identifier for later use.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>calc1</span> <span class=o>&lt;-</span> <span class=n>numbers</span> <span class=o>+</span> <span class=nf>c</span><span class=p>(</span><span class=m>8</span><span class=p>,</span> <span class=m>7.5</span><span class=p>,</span> <span class=m>-2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>calc2</span> <span class=o>&lt;-</span> <span class=n>calc1</span> <span class=o>*</span> <span class=n>calc1</span>
</span></span><span class=line><span class=cl><span class=n>calc1</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 9.0 9.5 1.0</span>
</span></span><span class=line><span class=cl><span class=n>calc2</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 81.00 90.25  1.00</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>calc1</span> <span class=o>&lt;-</span> <span class=n>calc1</span> <span class=o>+</span> <span class=n>calc2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 90.00 99.75  2.00</span>
</span></span><span class=line><span class=cl><span class=n>calc1</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 90.00 99.75  2.00</span>
</span></span><span class=line><span class=cl><span class=n>calc2</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 81.00 90.25  1.00</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Note: in the final step we have update the value of calc1 by adding calc2 to</span>
</span></span><span class=line><span class=cl><span class=c1># the old value; calc1 changes but calc2 is unchanged</span>
</span></span></code></pre></div><p>If we try to add together vectors of different lengths, R uses a recycling rule; the smaller vector is repeated until the dimensions match.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=m>1</span><span class=o>:</span><span class=m>5</span> <span class=o>+</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 2 3 4 5 6</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>small</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=m>1</span><span class=p>,</span> <span class=m>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>large</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>large</span> <span class=o>+</span> <span class=n>small</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 1 2 1 2 1 2</span>
</span></span></code></pre></div><blockquote><p><strong>Where have all the objects gone?</strong> We have defined a lot of variables so far. Inspect the &lsquo;Environment&rsquo; tab to inspect all objects saved in the workspace.</p></blockquote><h3 id=example-sheep-weight>Example: sheep weight</h3><p>We have taken a random sample of the weight of 5 sheep in the UK.
The weights (kg) are 84.5, 72.6, 75.7, 94.8, and 71.3.
We are going to put these values in a vector and illustrate some standard procedures.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>weight</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=m>84.5</span><span class=p>,</span> <span class=m>72.6</span><span class=p>,</span> <span class=m>75.7</span><span class=p>,</span> <span class=m>94.8</span><span class=p>,</span> <span class=m>71.3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>weight</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 84.5 72.6 75.7 94.8 71.3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>total</span> <span class=o>&lt;-</span> <span class=nf>sum</span><span class=p>(</span><span class=n>weight</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>numobs</span> <span class=o>&lt;-</span> <span class=nf>length</span><span class=p>(</span><span class=n>weight</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>meanweight</span> <span class=o>&lt;-</span> <span class=n>total</span> <span class=o>/</span> <span class=n>numobs</span>
</span></span><span class=line><span class=cl><span class=n>meanweight</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 79.78</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># We have worked out the mean the hard way.  There is a quick way...</span>
</span></span><span class=line><span class=cl><span class=nf>mean</span><span class=p>(</span><span class=n>weight</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 79.78</span>
</span></span></code></pre></div><h2 id=matrices>Matrices</h2><p>Another form of data in <code>R</code> are matrices. A matrix is formed using the <code>matrix()</code> function, which takes in a vector argument, plus the number of rows and number of columns the matrix should be. For example, to create a $4 \times 3$ matrix, one types</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>mat</span> <span class=o>&lt;-</span> <span class=nf>matrix</span><span class=p>(</span><span class=m>1</span><span class=o>:</span><span class=m>12</span><span class=p>,</span> <span class=n>nrow</span> <span class=o>=</span> <span class=m>4</span><span class=p>,</span> <span class=n>ncol</span> <span class=o>=</span> <span class=m>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mat</span>
</span></span><span class=line><span class=cl><span class=c1>##      [,1] [,2] [,3]</span>
</span></span><span class=line><span class=cl><span class=c1>## [1,]    1    5    9</span>
</span></span><span class=line><span class=cl><span class=c1>## [2,]    2    6   10</span>
</span></span><span class=line><span class=cl><span class=c1>## [3,]    3    7   11</span>
</span></span><span class=line><span class=cl><span class=c1>## [4,]    4    8   12</span>
</span></span></code></pre></div><p>Notice that the matrix is built column by column. If we wish to specify that the matrix be built by filling in the rows first, we use the option <code>byrow = TRUE</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>mat</span> <span class=o>&lt;-</span> <span class=nf>matrix</span><span class=p>(</span><span class=m>1</span><span class=o>:</span><span class=m>12</span><span class=p>,</span> <span class=n>nrow</span> <span class=o>=</span> <span class=m>4</span><span class=p>,</span> <span class=n>byrow</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mat</span>
</span></span><span class=line><span class=cl><span class=c1>##      [,1] [,2] [,3]</span>
</span></span><span class=line><span class=cl><span class=c1>## [1,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>## [2,]    4    5    6</span>
</span></span><span class=line><span class=cl><span class=c1>## [3,]    7    8    9</span>
</span></span><span class=line><span class=cl><span class=c1>## [4,]   10   11   12</span>
</span></span></code></pre></div><p>In the above, we skipped the <code>ncol</code> argument as it is not needed. If it is unambiguous enough, then you can skip one of <code>nrow</code> or <code>ncol</code>, but it is certainly good practice to specify both in order to avoid silly mistakes.</p><p>Remember, <code>R</code> practices the recycling rule, and this applies even to matrices. The following code will not given an error, but it may not have the intended result.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>mat</span> <span class=o>&lt;-</span> <span class=nf>matrix</span><span class=p>(</span><span class=m>1</span><span class=o>:</span><span class=m>3</span><span class=p>,</span> <span class=n>nrow</span> <span class=o>=</span> <span class=m>10</span><span class=p>,</span> <span class=n>ncol</span> <span class=o>=</span> <span class=m>3</span><span class=p>,</span> <span class=n>byrow</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mat</span>
</span></span><span class=line><span class=cl><span class=c1>##       [,1] [,2] [,3]</span>
</span></span><span class=line><span class=cl><span class=c1>##  [1,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [2,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [3,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [4,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [5,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [6,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [7,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [8,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>##  [9,]    1    2    3</span>
</span></span><span class=line><span class=cl><span class=c1>## [10,]    1    2    3</span>
</span></span></code></pre></div><p>A very useful class of matrices that you would often encounter is diagonal matrices. These are built using the <code>diag()</code> function in <code>R</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>diag</span><span class=p>(</span><span class=m>3</span><span class=p>)</span>  <span class=c1># the 3 x3 identity matrix</span>
</span></span><span class=line><span class=cl><span class=c1>##      [,1] [,2] [,3]</span>
</span></span><span class=line><span class=cl><span class=c1>## [1,]    1    0    0</span>
</span></span><span class=line><span class=cl><span class=c1>## [2,]    0    1    0</span>
</span></span><span class=line><span class=cl><span class=c1>## [3,]    0    0    1</span>
</span></span><span class=line><span class=cl><span class=nf>diag</span><span class=p>(</span><span class=m>1</span><span class=o>:</span><span class=m>5</span><span class=p>)</span>  <span class=c1># a diagonal matrix with diagonal entries 1, 2, ..., 5</span>
</span></span><span class=line><span class=cl><span class=c1>##      [,1] [,2] [,3] [,4] [,5]</span>
</span></span><span class=line><span class=cl><span class=c1>## [1,]    1    0    0    0    0</span>
</span></span><span class=line><span class=cl><span class=c1>## [2,]    0    2    0    0    0</span>
</span></span><span class=line><span class=cl><span class=c1>## [3,]    0    0    3    0    0</span>
</span></span><span class=line><span class=cl><span class=c1>## [4,]    0    0    0    4    0</span>
</span></span><span class=line><span class=cl><span class=c1>## [5,]    0    0    0    0    5</span>
</span></span></code></pre></div><h2 id=data-frames>Data frames</h2><p>A data frame is an R object that can be thought of as representing a data set.
A data frame consists of variables (columns vectors) of the same length with each row corresponding to an experimental unit.
The general syntax for setting up a data frame is <code>name &lt;- data.frame(variable1, variable2, ...)</code>.</p><p>Individual variables in a data frame are accessed using the $ notation: <code>name$variable</code>.</p><p>Once a data frame has been created we can view and edit it in a spreadsheet format using the command <code>fix(...)</code> (or equivalently <code>data.entry(...)</code>).
New variables can be added to an existing data frame by assignment.</p><h3 id=example-sheep-again>Example: sheep again</h3><p>Suppose that, for each of the sheep weighed in the example above, we also measure the height at the shoulder. The heights (cm) are 86.5, 71.8, 77.2, 84.9, and 75.4.
We will set up another variable for height. We would also like to have a single structure in which the association between weight and height (that is, that they are two measurements of the same sheep) is made explicit.
This is done by adding each variable to a dataframe.
We will call the data frame sheep and view it using <code>fix(sheep)</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>height</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=m>86.5</span><span class=p>,</span> <span class=m>71.8</span><span class=p>,</span> <span class=m>77.2</span><span class=p>,</span> <span class=m>84.9</span><span class=p>,</span> <span class=m>75.4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>sheep</span> <span class=o>&lt;-</span> <span class=nf>data.frame</span><span class=p>(</span><span class=n>weight</span><span class=p>,</span> <span class=n>height</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nf>mean</span><span class=p>(</span><span class=n>sheep</span><span class=o>$</span><span class=n>height</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 79.16</span>
</span></span><span class=line><span class=cl><span class=c1>## </span>
</span></span><span class=line><span class=cl><span class=c1>## fix(sheep)</span>
</span></span></code></pre></div><p>Suppose that a third variable consisting of measurements of the length of the sheeps’ backs becomes available. The values (in cm) are 130.4, 100.2, 109.4, 140.6, and 101.4.
We can include a new variable in the data frame using assignment. Suppose we choose the identifier <code>backlength</code> for this new variable:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>sheep</span><span class=o>$</span><span class=n>backlength</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=m>130.4</span><span class=p>,</span> <span class=m>100.2</span><span class=p>,</span> <span class=m>109.4</span><span class=p>,</span> <span class=m>140.6</span><span class=p>,</span> <span class=m>101.4</span><span class=p>)</span>
</span></span></code></pre></div><p>Look at the data in spreadsheet format to check what has happened.</p><h2 id=lists>Lists</h2><p>Lists in <code>R</code> are objects which can hold various kinds of objects together in one list. The easiest way to explain this is to construct a list:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>my_list</span> <span class=o>&lt;-</span> <span class=nf>list</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=n>a</span> <span class=o>=</span> <span class=m>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>b</span> <span class=o>=</span> <span class=nf>diag</span><span class=p>(</span><span class=m>1</span><span class=o>:</span><span class=m>3</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=n>c</span> <span class=o>=</span> <span class=nf>lm</span><span class=p>(</span><span class=nf>rnorm</span><span class=p>(</span><span class=m>100</span><span class=p>)</span> <span class=o>~</span> <span class=m>1</span> <span class=o>+</span> <span class=nf>rt</span><span class=p>(</span><span class=m>100</span><span class=p>,</span> <span class=m>1</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>  <span class=n>d</span> <span class=o>=</span> <span class=nf>plot</span><span class=p>(</span><span class=nf>rnorm</span><span class=p>(</span><span class=m>10</span><span class=p>),</span> <span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=n>e</span> <span class=o>=</span> <span class=n>sheep</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nf>str</span><span class=p>(</span><span class=n>my_list</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## List of 5</span>
</span></span><span class=line><span class=cl><span class=c1>##  $ a: num 1</span>
</span></span><span class=line><span class=cl><span class=c1>##  $ b: int [1:3, 1:3] 1 0 0 0 2 0 0 0 3</span>
</span></span><span class=line><span class=cl><span class=c1>##  $ c:List of 12</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ coefficients : Named num [1:2] -0.13641 0.00289</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..- attr(*, &#34;names&#34;)= chr [1:2] &#34;(Intercept)&#34; &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ residuals    : Named num [1:100] 1.814 -0.203 0.631 -0.449 -2.427 ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..- attr(*, &#34;names&#34;)= chr [1:100] &#34;1&#34; &#34;2&#34; &#34;3&#34; &#34;4&#34; ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ effects      : Named num [1:100] 1.389 1.013 0.465 -0.614 -2.592 ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..- attr(*, &#34;names&#34;)= chr [1:100] &#34;(Intercept)&#34; &#34;rt(100, 1)&#34; &#34;&#34; &#34;&#34; ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ rank         : int 2</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ fitted.values: Named num [1:100] -0.136 -0.139 -0.135 -0.138 -0.137 ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..- attr(*, &#34;names&#34;)= chr [1:100] &#34;1&#34; &#34;2&#34; &#34;3&#34; &#34;4&#34; ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ assign       : int [1:2] 0 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ qr           :List of 5</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..$ qr   : num [1:100, 1:2] -10 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;dimnames&#34;)=List of 2</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..$ : chr [1:100] &#34;1&#34; &#34;2&#34; &#34;3&#34; &#34;4&#34; ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..$ : chr [1:2] &#34;(Intercept)&#34; &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;assign&#34;)= int [1:2] 0 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..$ qraux: num [1:2] 1.1 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..$ pivot: int [1:2] 1 2</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..$ tol  : num 1e-07</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..$ rank : int 2</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..- attr(*, &#34;class&#34;)= chr &#34;qr&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ df.residual  : int 98</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ xlevels      : Named list()</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ call         : language lm(formula = rnorm(100) ~ 1 + rt(100, 1))</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ terms        :Classes &#39;terms&#39;, &#39;formula&#39;  language rnorm(100) ~ 1 + rt(100, 1)</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;variables&#34;)= language list(rnorm(100), rt(100, 1))</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;factors&#34;)= int [1:2, 1] 0 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;dimnames&#34;)=List of 2</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. .. ..$ : chr [1:2] &#34;rnorm(100)&#34; &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. .. ..$ : chr &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;term.labels&#34;)= chr &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;order&#34;)= int 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;intercept&#34;)= int 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;response&#34;)= int 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;.Environment&#34;)=&lt;environment: R_GlobalEnv&gt; </span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;predvars&#34;)= language list(rnorm(100), rt(100, 1))</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. ..- attr(*, &#34;dataClasses&#34;)= Named chr [1:2] &#34;numeric&#34; &#34;numeric&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;names&#34;)= chr [1:2] &#34;rnorm(100)&#34; &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ model        :&#39;data.frame&#39;:	100 obs. of  2 variables:</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..$ rnorm(100): num [1:100] 1.678 -0.343 0.497 -0.586 -2.564 ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..$ rt(100, 1): num [1:100] 0.157 -1.019 0.578 -0.404 -0.263 ...</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. ..- attr(*, &#34;terms&#34;)=Classes &#39;terms&#39;, &#39;formula&#39;  language rnorm(100) ~ 1 + rt(100, 1)</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;variables&#34;)= language list(rnorm(100), rt(100, 1))</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;factors&#34;)= int [1:2, 1] 0 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. .. ..- attr(*, &#34;dimnames&#34;)=List of 2</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. .. .. ..$ : chr [1:2] &#34;rnorm(100)&#34; &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. .. .. ..$ : chr &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;term.labels&#34;)= chr &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;order&#34;)= int 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;intercept&#34;)= int 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;response&#34;)= int 1</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;.Environment&#34;)=&lt;environment: R_GlobalEnv&gt; </span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;predvars&#34;)= language list(rnorm(100), rt(100, 1))</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. ..- attr(*, &#34;dataClasses&#34;)= Named chr [1:2] &#34;numeric&#34; &#34;numeric&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   .. .. .. .. ..- attr(*, &#34;names&#34;)= chr [1:2] &#34;rnorm(100)&#34; &#34;rt(100, 1)&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..- attr(*, &#34;class&#34;)= chr &#34;lm&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>##  $ d: NULL</span>
</span></span><span class=line><span class=cl><span class=c1>##  $ e:&#39;data.frame&#39;:	5 obs. of  3 variables:</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ weight    : num [1:5] 84.5 72.6 75.7 94.8 71.3</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ height    : num [1:5] 86.5 71.8 77.2 84.9 75.4</span>
</span></span><span class=line><span class=cl><span class=c1>##   ..$ backlength: num [1:5] 130 100 109 141 101</span>
</span></span></code></pre></div><p>In the above example, <code>my_list</code> is an <code>R</code> list which contains 5 entries. The first entry called <code>a</code> is simply a number (or a vector of length 1). The second entry called <code>b</code> is a matrix. The third entry called <code>c</code> is a linear model. The fourth entry called <code>d</code> is a plot. Finally the fifth entry called <code>e</code> is a data frame. A list may be named (e.g. <code>a</code> to <code>e</code> above), or they need not be named.</p><p>What is clear is that a list is able to hold not just one type of object, but various kinds of objects. This makes it useful to hold information or results for retrieval later, or for saving. Complex functions usually output a list rather than just singular objects.</p><h2 id=subsetting>Subsetting</h2><p>In <code>R</code>, subsetting is done using square brackets:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>a</span> <span class=o>&lt;-</span> <span class=m>1</span><span class=o>:</span><span class=m>10</span>
</span></span><span class=line><span class=cl><span class=n>a[3]</span>  <span class=c1># subset the 3rd element in the vector</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 3</span>
</span></span><span class=line><span class=cl><span class=n>a[1</span><span class=o>:</span><span class=m>5</span><span class=n>]</span>  <span class=c1># subset the first 5 elements</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 1 2 3 4 5</span>
</span></span><span class=line><span class=cl><span class=n>a[a</span> <span class=o>%%</span> <span class=m>2</span> <span class=o>==</span> <span class=m>0</span><span class=n>]</span>  <span class=c1># subset even elements only (note: the &#39;%%&#39; operator gives the remainder)</span>
</span></span><span class=line><span class=cl><span class=c1>## [1]  2  4  6  8 10</span>
</span></span></code></pre></div><p>It is also possible to index matrices and dataframes</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>mat[2</span><span class=p>,</span> <span class=m>3</span><span class=n>]</span>  <span class=c1># get the (2,3) element from the matrix</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 3</span>
</span></span><span class=line><span class=cl><span class=n>sheep[1</span><span class=p>,</span> <span class=m>2</span><span class=n>]</span>  <span class=c1># get the first element in the 2nd column</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 86.5</span>
</span></span></code></pre></div><p>For data frames, you&rsquo;ve seen that it is possible to use the <code>$</code> symbol to get the columns. From this, it is vectorised so it&rsquo;s further possible to subset using <code>[]</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>sheep</span><span class=o>$</span><span class=n>height[1]</span>  <span class=c1># the first sheep&#39;s height</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 86.5</span>
</span></span></code></pre></div><h1 id=r-management>R management</h1><h2 id=the-r-help-system>The R help system</h2><p>There are a number of different ways of getting help in R.</p><ul><li>If you have a query about a specific function then typing ? and then the functions name at the prompt will bring up the relevant help page.</li><li>If your problem is of a more general nature, then typing help.start() will open up a window which allows you to browse for the information you want. The search engine on this page is very helpful for finding context specific information.</li></ul><p>Alternatively, click on the &lsquo;Help&rsquo; tab and search for a term that you would like help on.</p><h2 id=session-management-and-visibility>Session management and visibility</h2><p>All of the objects created during an R session are stored in a workspace in memory. We can see the objects that are currently in the workspace by using the command <code>objects()</code>.
Notice the <code>()</code>, these are vital for the command to work.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>objects</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>##  [1] &#34;a&#34;            &#34;calc1&#34;        &#34;calc2&#34;        &#34;delete_files&#34; &#34;height&#34;      </span>
</span></span><span class=line><span class=cl><span class=c1>##  [6] &#34;large&#34;        &#34;mat&#34;          &#34;meanweight&#34;   &#34;my_list&#34;      &#34;numbers&#34;     </span>
</span></span><span class=line><span class=cl><span class=c1>## [11] &#34;numobs&#34;       &#34;people&#34;       &#34;sheep&#34;        &#34;small&#34;        &#34;total&#34;       </span>
</span></span><span class=line><span class=cl><span class=c1>## [16] &#34;weight&#34;</span>
</span></span></code></pre></div><p>The information in the variables height and weight is currently encapsulated in the data frame sheep.
We can tidy up our workspace by removing the height and weight variables (and various others that we are no longer interested in) using the <code>rm()</code> function.
Do this and then check what is left.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>rm</span><span class=p>(</span><span class=n>height</span><span class=p>,</span> <span class=n>weight</span><span class=p>,</span> <span class=n>meanweight</span><span class=p>,</span> <span class=n>numobs</span><span class=p>,</span> <span class=n>total</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nf>objects</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>##  [1] &#34;a&#34;            &#34;calc1&#34;        &#34;calc2&#34;        &#34;delete_files&#34; &#34;large&#34;       </span>
</span></span><span class=line><span class=cl><span class=c1>##  [6] &#34;mat&#34;          &#34;my_list&#34;      &#34;numbers&#34;      &#34;people&#34;       &#34;sheep&#34;       </span>
</span></span><span class=line><span class=cl><span class=c1>## [11] &#34;small&#34;</span>
</span></span></code></pre></div><p>The height and weight variables are now only accessible via the sheep data frame.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=c1>## weight  # should get an error message</span>
</span></span><span class=line><span class=cl><span class=n>sheep</span><span class=o>$</span><span class=n>weight</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 84.5 72.6 75.7 94.8 71.3</span>
</span></span></code></pre></div><p>We can save the current workspace to file at any time.
The command to do so is <code>save.image()</code>.
However, RStudio makes it simple to save the current workspace.
Since we have created a project, workspace saving is handled for us, and we are prompted to save when we quit RStudio or close the project.</p><p>To inspect our working directory, use the <code>dir()</code> command.
We can also look at the files under the &lsquo;Files&rsquo; tab.</p><h2 id=writing-your-own-functions>Writing your own functions</h2><p>Every function in R has three basic parts: a name, a body of code, and a set of arguments.
To make your own function, you need to replicate these parts and store them in an R object, which you can do with the <code>function()</code> function. To do this, call <code>function()</code> and follow it with a pair of braces, <code>{}</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>my_fun</span> <span class=o>&lt;-</span> <span class=nf>function</span><span class=p>(</span><span class=n>what.to.print</span> <span class=o>=</span> <span class=kc>NULL</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>if </span><span class=p>(</span><span class=nf>is.null</span><span class=p>(</span><span class=n>what.to.print</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>print</span><span class=p>(</span><span class=s>&#34;Hello world!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=n>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>print</span><span class=p>(</span><span class=n>what.to.print</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Here is a simple function to print some text to the R console.
Try it out:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>my_fun</span><span class=p>()</span>
</span></span></code></pre></div><pre tabindex=0><code>## [1] &#34;Hello world!&#34;
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>my_fun</span><span class=p>(</span><span class=s>&#34;All your base are belong to us&#34;</span><span class=p>)</span>
</span></span></code></pre></div><pre tabindex=0><code>## [1] &#34;All your base are belong to us&#34;
</code></pre><h2 id=installing-packages>Installing packages</h2><p>R has a very diverse user-contributed package repository called the Comprehensive R Archive Network (CRAN).
Packages are nothing more than a collection of user-written functions that serve a particular purpose.
For example, there are packages for extending the graphics capabilities of R (<code>ggplot2</code>), random-effects modelling (<code>lme4</code>), latent variable modelling (<code>lavaan</code>), adn so on.
These aim to supplement base R with additional functionality.</p><p>&ldquo;Official&rdquo; packages are downloaded from CRAN and installed by users all over the world.
Packages that go are published on CRAN have gone through the necessary checks to ensure that they do not break when installed by R users.</p><p>To install packages from CRAN, the command is <code>install.packages()</code>.
It is much easier, however, to use the GUI in RStudio to install packages.
Hit the &lsquo;Packages&rsquo; tab, click install, then search for the package that you want.</p><p>Packages do not necessarily have to be installed from CRAN.
You can create an R package yourself and distributed either in compressed form via e-mail or USB stick, or host it on a version-control software development site like GitHub.
If you would like to know more about creating your own packages, read this <a href=http://r-pkgs.had.co.nz target=_blank rel=noopener>book</a> (R Packages by Hadley Wickham).</p><h2 id=loading-packages-to-be-used>Loading packages to be used</h2><p>Installing packages makes them available for use, but does not load them when you start R.
Every time you quit an R session and you start it back up again, you would have to load packages that you need all over again.</p><p>The command to load packages is <code>library(&lt;pkg name>)</code>.
For example</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>tidyverse</span><span class=p>)</span>
</span></span></code></pre></div><pre tabindex=0><code>## ── Attaching packages ───────────────────────────────────────────────────────────── tidyverse 1.3.0 ──
</code></pre><pre tabindex=0><code>## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.3     ✓ dplyr   1.0.0
## ✓ tidyr   1.1.0     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0
</code></pre><pre tabindex=0><code>## ── Conflicts ──────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
</code></pre></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Previous</div><a href=/teaching/datascience/1-intro/ rel=next>Data Science Framework</a></div><div class=post-nav-item><div class=meta-nav>Next</div><a href=/teaching/datascience/3-r4ds/ rel=prev>Useful data science functions in R</a></div></div></div></div><div class=body-footer><p>Last updated on 28 Jul 2022</p></div></article><footer class=site-footer><p class="powered-by copyright-license-text">© 2022 Haziq Jamil. This work is licensed under <a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank>CC BY NC ND 4.0</a></p><p class="powered-by footer-license-icons"><a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nc fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nd fa-2x" aria-hidden=true></i></a></p><p class=powered-by>Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> — the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></main></div></div></div><div class=page-footer></div><script src=/js/vendor-bundle.min.92d2024afaa4dce0cad42ba360879ce9.js></script>
<script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/r.min.js crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/latex.min.js crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js integrity crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/bryanbraun/anchorjs@4.2.2/anchor.min.js integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin=anonymous></script>
<script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script>
<script id=page-data type=application/json>{"use_headroom":false}</script><script src=/en/js/wowchemy.min.de33c90527762392d440555c36739dd9.js></script>
<script src=/js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js type=module></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js type=module></script></body></html>